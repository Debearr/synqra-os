# ============================================================
# SYNQRA MVP - ENVIRONMENT CONFIGURATION
# ============================================================
# Last Updated: 2025-11-15
# Copy this to .env.local for local development

# ------------------------------------------------------------
# ANTHROPIC CLAUDE API (Required for agents)
# ------------------------------------------------------------
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# ------------------------------------------------------------
# AGENT CONFIGURATION (Cost Optimized - $200/month budget)
# ------------------------------------------------------------
# Mode: "mock" (free, for testing) or "live" (real API calls)
AGENT_MODE=mock

# CRITICAL: Keep at 1024 for cost control (not 4096!)
AGENT_MAX_TOKENS=1024

# Temperature for agent responses (0.0 - 1.0)
AGENT_TEMPERATURE=0.7

# ------------------------------------------------------------
# SUPABASE DATABASE (Required)
# ------------------------------------------------------------
# Get from: https://supabase.com/dashboard/project/tjfeindwmpuyajvjftke/settings/api
SUPABASE_URL=https://tjfeindwmpuyajvjftke.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Public keys (for client-side)
NEXT_PUBLIC_SUPABASE_URL=https://tjfeindwmpuyajvjftke.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here

# ------------------------------------------------------------
# PILOT ACCESS CONTROL (Block 6A)
# ------------------------------------------------------------
# Limit pilot onboarding/generation access to an allowlisted cohort.
# Provide comma-separated values for either emails and/or user IDs.
PILOT_ALLOWLIST_EMAILS=pilot1@example.com,pilot2@example.com,pilot3@example.com,pilot4@example.com,pilot5@example.com
PILOT_ALLOWLIST_USER_IDS=
# Optional vertical-specific overrides (fallbacks to the global values above)
PILOT_ALLOWLIST_EMAILS_REALTOR=
PILOT_ALLOWLIST_USER_IDS_REALTOR=
PILOT_ALLOWLIST_EMAILS_TRAVEL_ADVISOR=
PILOT_ALLOWLIST_USER_IDS_TRAVEL_ADVISOR=
# Must be between 5 and 10 (inclusive)
PILOT_ALLOWLIST_MAX_USERS=10

# ------------------------------------------------------------
# BILLING (Stripe - Block 6B)
# ------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_PRO_PRICE_ID=price_your_pro_price_id_here

NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_key_here
# ------------------------------------------------------------
# RAG (Retrieval-Augmented Generation)
# ------------------------------------------------------------
RAG_ENABLED=true
RAG_MAX_DOCUMENTS=5
RAG_MIN_SIMILARITY=0.7

# ------------------------------------------------------------
# MEMORY & HISTORY
# ------------------------------------------------------------
CONVERSATION_HISTORY_LIMIT=20

# ------------------------------------------------------------
# SAFETY & GUARDRAILS
# ------------------------------------------------------------
HALLUCINATION_CHECK=true
DUAL_PASS_VALIDATION=true
MIN_CONFIDENCE_THRESHOLD=0.6

# ------------------------------------------------------------
# DEVELOPMENT
# ------------------------------------------------------------
DEBUG_AGENTS=false
MOCK_DELAY_MS=1500

# ------------------------------------------------------------
# EMAIL CONFIGURATION (Optional)
# ------------------------------------------------------------
SMTP_HOST=smtp.privateemail.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=noreply@noidlux.com
SMTP_PASS=your_password
FROM_EMAIL=noreply@noidlux.com
ADMIN_EMAIL=debear@noidlux.com

# ------------------------------------------------------------
# TELEGRAM ALERTS (For budget notifications)
# ------------------------------------------------------------
TELEGRAM_BOT_TOKEN=8369994671:AAEmB2bJ2frgbPXYFy3oUO5a2u-7brzkxPg
TELEGRAM_CHANNEL_ID=@AuraFX_Hub

# ------------------------------------------------------------
# BUDGET GUARDRAILS (Advanced)
# ------------------------------------------------------------
# Admin key to manually unlock budget (use with caution!)
ADMIN_OVERRIDE_KEY=your_secret_admin_key_here

# ------------------------------------------------------------
# PRODUCTION SETTINGS
# ------------------------------------------------------------
NODE_ENV=production
PORT=3004
NEXT_TELEMETRY_DISABLED=1

# ------------------------------------------------------------
# NOTES
# ------------------------------------------------------------
# - AGENT_MAX_TOKENS=1024 is CRITICAL for staying under $200/month
# - Use mock mode for testing (no API costs)
# - Budget automatically locks at $190 (95% of $200 limit)
# - Check cost status: GET /api/budget/status
# - Never commit .env files to git
SAFEGUARDS_ENABLED=true
SAFEGUARDS_GLOBAL_KILL=false
SAFEGUARDS_MAX_DAILY_COST_USD=7
SAFEGUARDS_MAX_MONTHLY_COST_USD=200
SAFEGUARDS_MAX_REQ_COST_USD=0.05
SAFEGUARDS_LOG_LEVEL=info
SAFEGUARDS_FAIL_CLOSED=true
