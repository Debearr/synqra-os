"use strict";(()=>{var e={};e.id=6061,e.ids=[6061],e.modules={846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},793:(e,t,o)=>{o.r(t),o.d(t,{patchFetch:()=>x,routeModule:()=>v,serverHooks:()=>y,workAsyncStorage:()=>f,workUnitAsyncStorage:()=>h});var s={};o.r(s),o.d(s,{GET:()=>g});var a=o(1271),n=o(1232),i=o(8079),r=o(1238),l=o(9109),u=o(8484);let d=[];var c=o(4493);let p=c.Ik({role:c.k5(["user","assistant","system"]),content:c.Yj(),timestamp:c.ai().optional(),metadata:c.g1(c.Yj(),c.bz()).optional()}),m=c.Ik({name:c.Yj(),arguments:c.g1(c.Yj(),c.bz()),result:c.bz().optional()});c.Ik({answer:c.Yj(),confidence:c.ai().min(0).max(1),sources:c.YO(c.Yj()).optional(),toolCalls:c.YO(m).optional(),reasoning:c.Yj().optional(),metadata:c.g1(c.Yj(),c.bz()).optional(),tokenUsage:c.Ik({input:c.ai().optional(),output:c.ai().optional(),total:c.ai().optional(),estimatedCost:c.ai().optional()}).optional()}),c.Ik({message:c.Yj(),conversationId:c.Yj().optional(),context:c.g1(c.Yj(),c.bz()).optional(),history:c.YO(p).optional()}),function(){let e=new Date;e.getFullYear(),String(e.getMonth()+1).padStart(2,"0")}();async function g(e){try{let[e,t,o,s,a]=await Promise.all([Promise.resolve((0,l.getLoaderStatus)()),Promise.resolve((0,u.iL)()),Promise.resolve(function(){let e=["llama-3.2-1b","bge-small-en-v1.5","minilm-l6-v2"],t=["claude-3.5-sonnet","deepseek-v3","gpt-4o"],o=d.filter(t=>e.some(e=>t.modelUsed.includes(e))).length,s=d.filter(e=>t.some(t=>e.modelUsed.includes(t))).length,a=0*o,n=.012*s,i=.015*d.length,r=i-(a+n);return{totalInferences:d.length,localInferences:o,apiInferences:s,estimatedCostLocal:a,estimatedCostAPI:n,savings:r,savingsPercentage:r/i*100}}()),Promise.resolve(function(){if(0===d.length)return{totalDataPoints:0,avgQualityByComplexity:{},costEfficiency:0,recommendations:["Not enough data yet"]};let e={};d.forEach(t=>{let o=function(e){let t=e.toLowerCase();return t.includes("simple")?"simple":t.includes("medium")?"medium":t.includes("high")||t.includes("complex")?"high":t.includes("creative")?"creative":"unknown"}(t.routingDecision);e[o]||(e[o]=[]),e[o].push(t.outputQuality)});let t={};for(let[o,s]of Object.entries(e))t[o]=s.reduce((e,t)=>e+t,0)/s.length;let o=d.reduce((e,t)=>e+t.costEfficiency,0)/d.length,s=function(e,t){let o=[];e.simple&&e.simple>=.75?o.push("Simple queries: Local model performing well (quality: "+(100*e.simple).toFixed(1)+"%). Continue using."):e.simple&&e.simple<.6&&o.push("⚠️ Simple queries: Local model underperforming (quality: "+(100*e.simple).toFixed(1)+"%). Consider routing more to API."),e.medium&&e.medium>=.7&&o.push("Medium queries: Current routing optimal (quality: "+(100*e.medium).toFixed(1)+"%)"),t>=.8?o.push("\uD83D\uDCB0 Excellent cost efficiency ("+(100*t).toFixed(1)+"%). System is optimized."):t<.5&&o.push("⚠️ Low cost efficiency. Consider increasing local model usage.");let s=d.filter(e=>void 0!==e.brandConsistency);if(s.length>10){let e=s.reduce((e,t)=>e+(t.brandConsistency||0),0)/s.length;e<.7&&o.push("⚠️ Brand consistency low ("+(100*e).toFixed(1)+"%). Route more brand-sensitive queries to Claude.")}return 0===o.length&&o.push("System performing within acceptable parameters."),o}(t,o);return{totalDataPoints:d.length,avgQualityByComplexity:t,costEfficiency:o,recommendations:s}}()),Promise.resolve({localModelsAvailable:!0,apiModelsAvailable:!0,recommendedMode:"balanced",costSavings:.75})]);return r.NextResponse.json({status:"operational",timestamp:new Date().toISOString(),models:{loaded:e.loaded,loading:e.loading,failed:e.failed,totalMemoryMB:e.totalMemoryMB},routing:{totalRequests:t.totalRequests,localPercentage:Math.round(t.localPercentage),apiPercentage:Math.round(t.apiPercentage),costSaved:t.costSaved.toFixed(2)},costs:{totalInferences:o.totalInferences,localInferences:o.localInferences,apiInferences:o.apiInferences,estimatedCostAPI:o.estimatedCostAPI.toFixed(2),savings:o.savings.toFixed(2),savingsPercentage:Math.round(o.savingsPercentage)},performance:{totalDataPoints:s.totalDataPoints,avgQualityByComplexity:s.avgQualityByComplexity,costEfficiency:Math.round(100*s.costEfficiency),recommendations:s.recommendations},system:{localModelsAvailable:a.localModelsAvailable,apiModelsAvailable:a.apiModelsAvailable,recommendedMode:a.recommendedMode,costSavingsTarget:Math.round(100*a.costSavings)+"%"}})}catch(e){return console.error("Model status error:",e),r.NextResponse.json({error:"Failed to retrieve model status",message:e instanceof Error?e.message:"Unknown error"},{status:500})}}let v=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/models/status/route",pathname:"/api/models/status",filename:"route",bundlePath:"app/api/models/status/route"},resolvedPagePath:"C:\\Projects\\Synqra\\apps\\synqra-mvp\\app\\api\\models\\status\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:f,workUnitAsyncStorage:h,serverHooks:y}=v;function x(){return(0,i.patchFetch)({workAsyncStorage:f,workUnitAsyncStorage:h})}},8484:(e,t,o)=>{o.d(t,{iL:()=>a}),o(4226);let s={totalRequests:0,localRequests:0,apiRequests:0,costSaved:0};function a(){let e=s.totalRequests>0?s.localRequests/s.totalRequests*100:0,t=s.totalRequests>0?s.apiRequests/s.totalRequests*100:0,o=s.totalRequests>0?s.costSaved/s.totalRequests:0;return{totalRequests:s.totalRequests,localPercentage:e,apiPercentage:t,costSaved:s.costSaved,avgCostPerRequest:o}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),s=t.X(0,[6207,8048,4493,6287],()=>o(793));module.exports=s})();