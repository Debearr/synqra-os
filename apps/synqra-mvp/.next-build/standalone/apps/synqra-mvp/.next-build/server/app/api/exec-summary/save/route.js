(()=>{var e={};e.id=8506,e.ids=[4291,8506],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},6393:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>d,routeModule:()=>c,serverHooks:()=>S,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>E});var s={};t.r(s),t.d(s,{POST:()=>p});var a=t(1271),n=t(1232),o=t(8079),i=t(1238),u=t(7164);async function p(e){try{let r;let{id:t,label:s,data:a}=await e.json(),n={owner_id:"00000000-0000-0000-0000-000000000000",label:s,product_name:a.productName||"Untitled",data_json:a,updated_at:new Date().toISOString()},o=(0,u.U)();if((r=t?await o.from("exec_summaries").update(n).eq("id",t).select().single():await o.from("exec_summaries").insert(n).select().single()).error)return console.error("Save error:",r.error),i.NextResponse.json({error:r.error.message},{status:500});return i.NextResponse.json({id:r.data.id,success:!0})}catch(e){return i.NextResponse.json({error:"Invalid request"},{status:400})}}let c=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/exec-summary/save/route",pathname:"/api/exec-summary/save",filename:"route",bundlePath:"app/api/exec-summary/save/route"},resolvedPagePath:"C:\\Projects\\Synqra\\apps\\synqra-mvp\\app\\api\\exec-summary\\save\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:E,serverHooks:S}=c;function d(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:E})}},7032:()=>{},408:()=>{},7164:(e,r,t)=>{"use strict";t.d(r,{U:()=>i});var s=t(1525),a=t(4291);let n=null,o=null;try{let e=(0,a.getSupabaseUrl)(),r=(0,a.getSupabaseAnonKey)();n=(0,s.createClient)(e,r)}catch(e){o=e instanceof Error?e:Error("Unknown Supabase init error"),n=null}function i(){if(!n)throw Error("âŒ Supabase client not available. Ensure SUPABASE_URL and SUPABASE_ANON_KEY are set in Railway Variables and restart."+(o?` Details: ${o.message}`:""));return n}},4291:(e,r,t)=>{"use strict";t.d(r,{F:()=>i,getSupabaseAnonKey:()=>o,getSupabaseUrl:()=>n});let s=["SUPABASE_SERVICE_KEY","SUPABASE_SERVICE_ROLE"];function a(e,r){if(!e||""===e.trim())throw Error(`[Supabase Env] ${r} is missing or empty`);return e}function n(){let e=a(process.env.SUPABASE_URL,"SUPABASE_URL");return function(e,r){try{let t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol)throw Error(`[Supabase Env] ${r} must start with http:// or https://`)}catch(e){throw Error(`[Supabase Env] ${r} is invalid: ${e instanceof Error?e.message:"Unknown URL error"}`)}}(e,"SUPABASE_URL"),e}function o(){return a(process.env.SUPABASE_ANON_KEY,"SUPABASE_ANON_KEY")}function i(){let e=process.env.SUPABASE_SERVICE_ROLE_KEY;if(e&&""!==e.trim())return e;for(let e of s){let r=process.env[e];if(r&&""!==r.trim())return console.warn(`[Supabase Env] Falling back to ${e}. Set SUPABASE_SERVICE_ROLE_KEY and restart.`),r}throw Error("[Supabase Env] SUPABASE_SERVICE_ROLE_KEY is missing or empty")}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[6207,8048,1525],()=>t(6393));module.exports=s})();