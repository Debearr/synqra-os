"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_supabase_env_ts";
exports.ids = ["_rsc_lib_supabase_env_ts"];
exports.modules = {

/***/ "(rsc)/./lib/supabase/env.ts":
/*!*****************************!*\
  !*** ./lib/supabase/env.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertSupabaseConfigured: () => (/* binding */ assertSupabaseConfigured),\n/* harmony export */   getSupabaseAnonKey: () => (/* binding */ getSupabaseAnonKey),\n/* harmony export */   getSupabaseServiceRoleKey: () => (/* binding */ getSupabaseServiceRoleKey),\n/* harmony export */   getSupabaseUrl: () => (/* binding */ getSupabaseUrl)\n/* harmony export */ });\nconst LEGACY_SERVICE_ROLE_ALIASES = [\n    \"SUPABASE_SERVICE_KEY\",\n    \"SUPABASE_SERVICE_ROLE\"\n];\nfunction validateUrlProtocol(url, source) {\n    try {\n        const parsed = new URL(url);\n        if (parsed.protocol !== \"http:\" && parsed.protocol !== \"https:\") {\n            throw new Error(`[Supabase Env] ${source} must start with http:// or https://`);\n        }\n    } catch (error) {\n        throw new Error(`[Supabase Env] ${source} is invalid: ${error instanceof Error ? error.message : \"Unknown URL error\"}`);\n    }\n}\nfunction ensurePresent(value, name) {\n    if (!value || value.trim() === \"\") {\n        throw new Error(`[Supabase Env] ${name} is missing or empty`);\n    }\n    return value;\n}\nfunction getSupabaseUrl() {\n    const supabaseUrl = ensurePresent(process.env.SUPABASE_URL, \"SUPABASE_URL\");\n    validateUrlProtocol(supabaseUrl, \"SUPABASE_URL\");\n    return supabaseUrl;\n}\nfunction getSupabaseAnonKey() {\n    const anonKey = ensurePresent(process.env.SUPABASE_ANON_KEY, \"SUPABASE_ANON_KEY\");\n    return anonKey;\n}\nfunction getSupabaseServiceRoleKey() {\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (serviceRoleKey && serviceRoleKey.trim() !== \"\") {\n        return serviceRoleKey;\n    }\n    for (const alias of LEGACY_SERVICE_ROLE_ALIASES){\n        const value = process.env[alias];\n        if (value && value.trim() !== \"\") {\n            console.warn(`[Supabase Env] Falling back to ${alias}. Set SUPABASE_SERVICE_ROLE_KEY and restart.`);\n            return value;\n        }\n    }\n    throw new Error(\"[Supabase Env] SUPABASE_SERVICE_ROLE_KEY is missing or empty\");\n}\nfunction assertSupabaseConfigured() {\n    getSupabaseUrl();\n    getSupabaseAnonKey();\n    getSupabaseServiceRoleKey();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UvZW52LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSw4QkFBOEI7SUFDbEM7SUFDQTtDQUNEO0FBRUQsU0FBU0Msb0JBQW9CQyxHQUFXLEVBQUVDLE1BQWM7SUFDdEQsSUFBSTtRQUNGLE1BQU1DLFNBQVMsSUFBSUMsSUFBSUg7UUFDdkIsSUFBSUUsT0FBT0UsUUFBUSxLQUFLLFdBQVdGLE9BQU9FLFFBQVEsS0FBSyxVQUFVO1lBQy9ELE1BQU0sSUFBSUMsTUFDUixDQUFDLGVBQWUsRUFBRUosT0FBTyxvQ0FBb0MsQ0FBQztRQUVsRTtJQUNGLEVBQUUsT0FBT0ssT0FBTztRQUNkLE1BQU0sSUFBSUQsTUFDUixDQUFDLGVBQWUsRUFBRUosT0FBTyxhQUFhLEVBQ3BDSyxpQkFBaUJELFFBQVFDLE1BQU1DLE9BQU8sR0FBRyxxQkFDekM7SUFFTjtBQUNGO0FBRUEsU0FBU0MsY0FBY0MsS0FBeUIsRUFBRUMsSUFBWTtJQUM1RCxJQUFJLENBQUNELFNBQVNBLE1BQU1FLElBQUksT0FBTyxJQUFJO1FBQ2pDLE1BQU0sSUFBSU4sTUFBTSxDQUFDLGVBQWUsRUFBRUssS0FBSyxvQkFBb0IsQ0FBQztJQUM5RDtJQUNBLE9BQU9EO0FBQ1Q7QUFFTyxTQUFTRztJQUNkLE1BQU1DLGNBQWNMLGNBQWNNLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxFQUFFO0lBQzVEakIsb0JBQW9CYyxhQUFhO0lBQ2pDLE9BQU9BO0FBQ1Q7QUFFTyxTQUFTSTtJQUNkLE1BQU1DLFVBQVVWLGNBQ2RNLFFBQVFDLEdBQUcsQ0FBQ0ksaUJBQWlCLEVBQzdCO0lBRUYsT0FBT0Q7QUFDVDtBQUVPLFNBQVNFO0lBQ2QsTUFBTUMsaUJBQWlCUCxRQUFRQyxHQUFHLENBQUNPLHlCQUF5QjtJQUM1RCxJQUFJRCxrQkFBa0JBLGVBQWVWLElBQUksT0FBTyxJQUFJO1FBQ2xELE9BQU9VO0lBQ1Q7SUFFQSxLQUFLLE1BQU1FLFNBQVN6Qiw0QkFBNkI7UUFDL0MsTUFBTVcsUUFBUUssUUFBUUMsR0FBRyxDQUFDUSxNQUFNO1FBQ2hDLElBQUlkLFNBQVNBLE1BQU1FLElBQUksT0FBTyxJQUFJO1lBQ2hDYSxRQUFRQyxJQUFJLENBQ1YsQ0FBQywrQkFBK0IsRUFBRUYsTUFBTSw0Q0FBNEMsQ0FBQztZQUV2RixPQUFPZDtRQUNUO0lBQ0Y7SUFFQSxNQUFNLElBQUlKLE1BQ1I7QUFFSjtBQUVPLFNBQVNxQjtJQUNkZDtJQUNBSztJQUNBRztBQUNGIiwic291cmNlcyI6WyJDOlxcUHJvamVjdHNcXFN5bnFyYVxcYXBwc1xcc3lucXJhLW12cFxcbGliXFxzdXBhYmFzZVxcZW52LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IExFR0FDWV9TRVJWSUNFX1JPTEVfQUxJQVNFUyA9IFtcclxuICBcIlNVUEFCQVNFX1NFUlZJQ0VfS0VZXCIsXHJcbiAgXCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVcIixcclxuXSBhcyBjb25zdDtcclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlVXJsUHJvdG9jb2wodXJsOiBzdHJpbmcsIHNvdXJjZTogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBVUkwodXJsKTtcclxuICAgIGlmIChwYXJzZWQucHJvdG9jb2wgIT09IFwiaHR0cDpcIiAmJiBwYXJzZWQucHJvdG9jb2wgIT09IFwiaHR0cHM6XCIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIGBbU3VwYWJhc2UgRW52XSAke3NvdXJjZX0gbXVzdCBzdGFydCB3aXRoIGh0dHA6Ly8gb3IgaHR0cHM6Ly9gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYFtTdXBhYmFzZSBFbnZdICR7c291cmNlfSBpcyBpbnZhbGlkOiAke1xyXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIFVSTCBlcnJvclwiXHJcbiAgICAgIH1gXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZW5zdXJlUHJlc2VudCh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBuYW1lOiBzdHJpbmcpIHtcclxuICBpZiAoIXZhbHVlIHx8IHZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBbU3VwYWJhc2UgRW52XSAke25hbWV9IGlzIG1pc3Npbmcgb3IgZW1wdHlgKTtcclxuICB9XHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwYWJhc2VVcmwoKTogc3RyaW5nIHtcclxuICBjb25zdCBzdXBhYmFzZVVybCA9IGVuc3VyZVByZXNlbnQocHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMLCBcIlNVUEFCQVNFX1VSTFwiKTtcclxuICB2YWxpZGF0ZVVybFByb3RvY29sKHN1cGFiYXNlVXJsLCBcIlNVUEFCQVNFX1VSTFwiKTtcclxuICByZXR1cm4gc3VwYWJhc2VVcmw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUFub25LZXkoKTogc3RyaW5nIHtcclxuICBjb25zdCBhbm9uS2V5ID0gZW5zdXJlUHJlc2VudChcclxuICAgIHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZLFxyXG4gICAgXCJTVVBBQkFTRV9BTk9OX0tFWVwiXHJcbiAgKTtcclxuICByZXR1cm4gYW5vbktleTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN1cGFiYXNlU2VydmljZVJvbGVLZXkoKTogc3RyaW5nIHtcclxuICBjb25zdCBzZXJ2aWNlUm9sZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XHJcbiAgaWYgKHNlcnZpY2VSb2xlS2V5ICYmIHNlcnZpY2VSb2xlS2V5LnRyaW0oKSAhPT0gXCJcIikge1xyXG4gICAgcmV0dXJuIHNlcnZpY2VSb2xlS2V5O1xyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBhbGlhcyBvZiBMRUdBQ1lfU0VSVklDRV9ST0xFX0FMSUFTRVMpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gcHJvY2Vzcy5lbnZbYWxpYXNdO1xyXG4gICAgaWYgKHZhbHVlICYmIHZhbHVlLnRyaW0oKSAhPT0gXCJcIikge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgYFtTdXBhYmFzZSBFbnZdIEZhbGxpbmcgYmFjayB0byAke2FsaWFzfS4gU2V0IFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgYW5kIHJlc3RhcnQuYFxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICBcIltTdXBhYmFzZSBFbnZdIFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgaXMgbWlzc2luZyBvciBlbXB0eVwiXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN1cGFiYXNlQ29uZmlndXJlZCgpOiB2b2lkIHtcclxuICBnZXRTdXBhYmFzZVVybCgpO1xyXG4gIGdldFN1cGFiYXNlQW5vbktleSgpO1xyXG4gIGdldFN1cGFiYXNlU2VydmljZVJvbGVLZXkoKTtcclxufVxyXG4iXSwibmFtZXMiOlsiTEVHQUNZX1NFUlZJQ0VfUk9MRV9BTElBU0VTIiwidmFsaWRhdGVVcmxQcm90b2NvbCIsInVybCIsInNvdXJjZSIsInBhcnNlZCIsIlVSTCIsInByb3RvY29sIiwiRXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJlbnN1cmVQcmVzZW50IiwidmFsdWUiLCJuYW1lIiwidHJpbSIsImdldFN1cGFiYXNlVXJsIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiU1VQQUJBU0VfVVJMIiwiZ2V0U3VwYWJhc2VBbm9uS2V5IiwiYW5vbktleSIsIlNVUEFCQVNFX0FOT05fS0VZIiwiZ2V0U3VwYWJhc2VTZXJ2aWNlUm9sZUtleSIsInNlcnZpY2VSb2xlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImFsaWFzIiwiY29uc29sZSIsIndhcm4iLCJhc3NlcnRTdXBhYmFzZUNvbmZpZ3VyZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/env.ts\n");

/***/ })

};
;