name: Auto Homepage Guardian
trigger: ["postDeploy"]

steps:
  - name: Check homepage
    run: |
      if [ ! -f "pages/index.js" ] && [ ! -f "app/page.tsx" ]; then
        echo "⚠️ No homepage found — generating default Synqra landing page..."
        mkdir -p pages
        cat <<'EOF' > pages/index.js
        export default function Home() {
          return (
            <div style={{
              height:'100vh',
              display:'flex',
              flexDirection:'column',
              alignItems:'center',
              justifyContent:'center',
              backgroundColor:'#000',
              color:'#0ff',
              fontFamily:'Inter, sans-serif'
            }}>
              <h1 style={{fontSize:'3rem', fontWeight:'700'}}>Synqra OS is Live ⚡</h1>
              <p style={{fontSize:'1.2rem', opacity:0.8}}>Automated by Cursor Agents — No Human Input Needed.</p>
            </div>
          )
        }
        EOF
        git add .
        git commit -m "Auto-generated Synqra homepage"
        git push origin main
      else
        echo "✅ Homepage already exists, skipping."
      fi
