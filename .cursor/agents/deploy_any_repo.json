{
  "name": "üöÄ Deploy Any Repo",
  "description": "Universal one-click deploy agent. Prompts for repo, auto-deploys, opens URL, updates README.",
  "type": "background",
  "script": "#!/usr/bin/env bash\nset -euo pipefail\n\nmain() {\n  # --- Step 0: Prompt for repo name ---\n  read -p \"Enter repo name to deploy: \" REPO_NAME\n  REPO_PATH=\"$HOME/$REPO_NAME\"\n\n  echo \"[deploy] Starting deployment for $REPO_NAME...\"\n\n  # --- Step 1: Switch into repo ---\n  if [ ! -d \"$REPO_PATH\" ]; then\n    echo \"[deploy] ‚ùå Repo '$REPO_NAME' not found at $REPO_PATH\"\n    exit 1\n  fi\n  cd \"$REPO_PATH\"\n  echo \"[deploy] ‚úÖ Using repo at $REPO_PATH\"\n\n  # --- Step 2: Ensure Railway CLI ---\n  if ! command -v railway >/dev/null 2>&1; then\n    echo \"[deploy] Installing Railway CLI...\"\n    npm i -g @railway/cli\n  fi\n\n  # --- Step 3: Ensure jq ---\n  if ! command -v jq >/dev/null 2>&1; then\n    echo \"[deploy] Installing jq...\"\n    if command -v apt-get >/dev/null 2>&1; then\n      sudo apt-get update -y && sudo apt-get install -y jq\n    elif command -v choco >/dev/null 2>&1; then\n      choco install jq -y\n    else\n      echo \"[deploy] ‚ùå Could not install jq automatically.\"\n      exit 1\n    fi\n  fi\n\n  # --- Step 4: Fetch live URL ---\n  url=$(railway status --service \"$REPO_NAME\" --json | jq -r '.url')\n  if [ -z \"$url\" ] || [ \"$url\" = \"null\" ]; then\n    echo \"[deploy] ‚ùå Could not fetch live URL for $REPO_NAME\"\n    exit 1\n  fi\n  echo \"[deploy] ‚úÖ $REPO_NAME live here: $url\"\n\n  # --- Step 5: Auto-open browser ---\n  case \"$OSTYPE\" in\n    linux*)    xdg-open \"$url\" >/dev/null 2>&1 & ;;\n    darwin*)   open \"$url\" >/dev/null 2>&1 & ;;\n    msys*|cygwin*|win32*) start \"\" \"$url\" >/dev/null 2>&1 ;;\n    *) echo \"[deploy] üåç Please open manually: $url\" ;;\n  esac\n\n  # --- Step 6: Update README.md ---\n  if [ -f README.md ]; then\n    if grep -q \"Live Deployment\" README.md; then\n      sed -i \"s|Live here.*|Live here: $url|\" README.md\n    else\n      echo -e \"\\n## üåç Live Deployment\\n$REPO_NAME is live here: $url\" >> README.md\n    fi\n  else\n    echo \"## üåç Live Deployment\\n$REPO_NAME is live here: $url\" > README.md\n  fi\n\n  git add README.md\n  git commit -m \"docs: auto-update $REPO_NAME live deployment URL\" || echo \"[deploy] ‚ÑπÔ∏è No changes to commit.\"\n  git push origin main || echo \"[deploy] ‚ÑπÔ∏è Push skipped.\"\n\n  echo \"[deploy] üöÄ Finished deployment for $REPO_NAME\"\n}\n\nmain \"$@\""
}
